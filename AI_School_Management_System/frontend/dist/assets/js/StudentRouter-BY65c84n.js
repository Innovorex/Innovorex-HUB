import{j as e,b as s}from"./data-94D1OdVp.js";import{r as t,R as a,L as r,c as l,d as i,N as n}from"./vendor-BHFNQwN6.js";import{u as d,e as c,f as x,g as m,h as o,i as h,j as g,k as j,l as u,m as b,n as N,b as y,o as p,p as v,q as f,d as w,c as C,a as k}from"./index-BKaJI5T2.js";import{m as A}from"./ui-DvwotSXL.js";import{F as S}from"./ExclamationTriangleIcon-CxKKRfxN.js";import{F as L}from"./TrophyIcon-BAAsOqJm.js";import{F as T}from"./PresentationChartLineIcon-fkxdXzlJ.js";import{F as _}from"./CpuChipIcon-PbV9hcg8.js";function D({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const E=t.forwardRef(D);function R({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const I=t.forwardRef(R);function F({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const M=t.forwardRef(F);function P({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const $=t.forwardRef(P),G=({children:s,title:t,subtitle:r,navigation:l=[],activeTab:i,onTabChange:n,actions:u})=>{const{user:b,logout:N}=d(),[y,p]=a.useState(!1),[v,f]=a.useState(!1);return a.useEffect(()=>{const e=e=>{y&&!e.target?.closest(".mobile-sidebar")&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[y]),a.useEffect(()=>{const e=()=>{f(!1),p(!1)};return window.addEventListener("orientationchange",e),()=>window.removeEventListener("orientationchange",e)},[]),e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 lg:hidden",children:e.jsxs(A.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},className:"mobile-sidebar fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-300 shadow-lg z-50",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-2 py-2 border-b border-gray-200",children:[e.jsx("img",{src:"/logo.jpg",alt:"",className:"h-32 w-32 object-contain"}),e.jsx("button",{onClick:()=>p(!1),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded transition-colors",children:e.jsx(c,{className:"h-5 w-5"})})]}),e.jsxs("nav",{className:"mt-4 px-4",children:[e.jsx("div",{className:"space-y-1",children:l.map(s=>{const t=i===s.id;return e.jsxs("button",{onClick:()=>{n?.(s.id),p(!1)},className:`\n                        w-full flex items-center px-3 py-2.5 text-sm font-medium rounded-md transition-colors\n                        ${t?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}\n                      `,children:[e.jsx(s.icon,{className:"h-5 w-5 mr-3 flex-shrink-0"}),s.name]},s.id)})}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center px-3 py-2",children:[b?.profile_image?e.jsx("img",{className:"h-10 w-10 rounded-full border border-gray-300",src:b.profile_image,alt:b.name}):e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center border border-gray-300",children:e.jsx("span",{className:"text-gray-600 font-medium text-sm",children:b?.name?.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b?.name}),e.jsx("p",{className:"text-xs text-gray-600 capitalize",children:b?.role})]})]}),e.jsxs("div",{className:"mt-4 space-y-1",children:[e.jsxs("button",{className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:[e.jsx(x,{className:"h-5 w-5 mr-3 text-gray-500"}),"My Profile"]}),e.jsxs("button",{className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:[e.jsx(M,{className:"h-5 w-5 mr-3 text-gray-500"}),"Settings"]}),e.jsxs("button",{onClick:N,className:"w-full flex items-center px-3 py-2 text-sm text-red-700 hover:bg-red-50 rounded-md",children:[e.jsx(m,{className:"h-5 w-5 mr-3 text-red-500"}),"Logout"]})]})]})]})]})}),e.jsx("header",{className:"bg-white border-b border-gray-300 sticky top-0 z-40 shadow-sm",children:e.jsx("div",{className:"px-3 sm:px-4",children:e.jsxs("div",{className:"flex justify-between items-center h-14",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>p(!y),className:"p-2 rounded text-gray-600 hover:text-gray-800 hover:bg-gray-100 lg:hidden touch-manipulation","aria-label":"Open navigation menu",children:e.jsx(o,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:"/logo.jpg",alt:"",className:"h-7 w-7 object-contain"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("span",{className:"font-medium",children:["Welcome, ",b?.name||"User"]}),e.jsxs("span",{className:"text-gray-500 ml-2",children:["• Role: ","admin"===b?.role?"Administrator":"teacher"===b?.role?"Instructor":"student"===b?.role?"Student":"parent"===b?.role?"Parent":b?.role||"User"]})]})}),e.jsxs("nav",{className:"flex items-center space-x-1 text-sm",children:[e.jsxs("button",{className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx(h,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Home"})]}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:t})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[u,e.jsx("button",{className:"p-1.5 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded transition-colors",children:e.jsx(g,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>f(!v),className:"flex items-center p-1 text-sm rounded hover:bg-gray-100 transition-colors",children:[b?.profile_image?e.jsx("img",{className:"h-7 w-7 rounded-full border border-gray-300",src:b.profile_image,alt:b.name}):e.jsx("div",{className:"h-7 w-7 bg-gray-200 rounded-full flex items-center justify-center border border-gray-300",children:e.jsx("span",{className:"text-gray-600 font-medium text-xs",children:b?.name?.charAt(0).toUpperCase()})}),e.jsx("span",{className:"ml-2 text-gray-700 hidden sm:block text-sm",children:b?.name}),e.jsx(j,{className:"ml-1 h-4 w-4 text-gray-500"})]}),v&&e.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-1 w-56 bg-white rounded border border-gray-300 shadow-lg py-1 z-50",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-gray-200 bg-gray-50",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b?.name}),e.jsx("p",{className:"text-xs text-gray-600",children:b?.email}),e.jsx("p",{className:"text-xs text-blue-700 capitalize font-medium",children:b?.role})]}),e.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 flex items-center",children:[e.jsx(x,{className:"h-4 w-4 mr-2 text-gray-500"}),"My Profile"]}),e.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 flex items-center",children:[e.jsx(M,{className:"h-4 w-4 mr-2 text-gray-500"}),"User Settings"]}),e.jsx("div",{className:"border-t border-gray-200 mt-1",children:e.jsxs("button",{onClick:N,className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-red-50 flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-2 text-gray-500"}),"Logout"]})})]})]})]})]})})}),r&&e.jsx("div",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:t}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r})]}),u&&e.jsx("div",{className:"hidden sm:block",children:u})]})}),l.length>0&&e.jsxs("div",{className:"bg-white border-b border-gray-300",children:[e.jsx("div",{className:"hidden lg:block px-3 sm:px-4",children:e.jsx("nav",{className:"flex space-x-6",children:l.map(s=>{const t=i===s.id;return e.jsxs("button",{onClick:()=>n?.(s.id),className:`\n                      flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors\n                      ${t?"border-blue-600 text-blue-700":"border-transparent text-gray-600 hover:text-gray-800 hover:border-gray-400"}\n                    `,children:[e.jsx(s.icon,{className:"h-4 w-4 mr-2"}),s.name]},s.id)})})}),e.jsx("div",{className:"lg:hidden px-3",children:e.jsx("nav",{className:"flex space-x-1 overflow-x-auto scrollbar-hide py-2",children:l.map(s=>{const t=i===s.id;return e.jsxs("button",{onClick:()=>n?.(s.id),className:`\n                      flex items-center px-4 py-2 rounded-full font-medium text-sm transition-colors whitespace-nowrap touch-manipulation\n                      ${t?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-600 hover:text-gray-800 hover:bg-gray-200"}\n                    `,children:[e.jsx(s.icon,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.name]},s.id)})})})]}),e.jsx("main",{className:"flex-1",children:e.jsx("div",{className:"px-3 sm:px-4 py-4",children:s})})]})},U=()=>{const{user:a}=d(),[l,i]=t.useState(!1),{data:n,isLoading:c,error:x,refetch:m}=s({queryKey:["student-dashboard",a?.id],queryFn:async()=>(await k.get("/students/dashboard")).data,refetchInterval:3e5,retry:2,staleTime:12e4});return c?e.jsx(G,{children:e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading dashboard data..."})]})}):x?e.jsx(G,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to load dashboard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to connect to the server. Please try again."}),e.jsx("button",{onClick:()=>m(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry"})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsxs("div",{className:"fixed inset-y-0 left-0 w-64 bg-gradient-to-b from-blue-800 to-blue-900 text-white z-50",children:[e.jsx("div",{className:"flex items-center h-16 px-4 border-b border-blue-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"I"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Innovorex"}),e.jsx("div",{className:"text-xs text-blue-300",children:"Student Portal"})]})]})}),e.jsx("nav",{className:"mt-6 px-3",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"bg-blue-700 rounded-lg px-3 py-2 flex items-center text-white",children:[e.jsx(u,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]}),e.jsxs(r,{to:"/student/courses",className:"flex items-center px-3 py-2 rounded-lg text-blue-200 hover:bg-blue-700 hover:text-white transition-colors",children:[e.jsx(b,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"text-sm",children:"My Courses"})]}),e.jsxs(r,{to:"/student/assignments",className:"flex items-center px-3 py-2 rounded-lg text-blue-200 hover:bg-blue-700 hover:text-white transition-colors",children:[e.jsx(N,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"text-sm",children:"Assignments"})]}),e.jsxs(r,{to:"/student/grades",className:"flex items-center px-3 py-2 rounded-lg text-blue-200 hover:bg-blue-700 hover:text-white transition-colors",children:[e.jsx(y,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"text-sm",children:"Grades"})]}),e.jsxs("a",{href:"#",className:"flex items-center px-3 py-2 rounded-lg text-blue-200 hover:bg-blue-700 hover:text-white transition-colors",children:[e.jsx(p,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"text-sm",children:"Schedule"})]}),e.jsxs("a",{href:"#",className:"flex items-center px-3 py-2 rounded-lg text-blue-200 hover:bg-blue-700 hover:text-white transition-colors",children:[e.jsx(v,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"text-sm",children:"Study Groups"})]}),e.jsxs("a",{href:"#",className:"flex items-center px-3 py-2 rounded-lg text-blue-200 hover:bg-blue-700 hover:text-white transition-colors",children:[e.jsx(L,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"text-sm",children:"Achievements"})]}),e.jsxs("a",{href:"#",className:"flex items-center px-3 py-2 rounded-lg text-blue-200 hover:bg-blue-700 hover:text-white transition-colors",children:[e.jsx(T,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"text-sm",children:"Reports"})]}),e.jsxs("a",{href:"#",className:"flex items-center px-3 py-2 rounded-lg text-blue-200 hover:bg-blue-700 hover:text-white transition-colors",children:[e.jsx(_,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"text-sm",children:"AI Tutor"})]})]})}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:e.jsx("div",{className:"bg-blue-700 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm",children:a?.name?.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:a?.name}),e.jsx("div",{className:"text-xs text-blue-300",children:"Student"})]})]})})})]}),e.jsxs("div",{className:"ml-64",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white px-6 py-8",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Student Learning Command Center"}),e.jsxs("div",{className:"flex items-center bg-green-500 px-2 py-1 rounded-full text-xs",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-2"}),"Live Data"]})]}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Comprehensive academic intelligence and learning oversight"})]}),e.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(),className:"flex items-center bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),e.jsx("div",{className:"px-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"My Classes (Programs)"}),e.jsx("div",{className:"space-y-2",children:n?.assigned_classes?.length>0?n.assigned_classes.map((s,t)=>e.jsxs("div",{className:"flex items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx(y,{className:"h-5 w-5 text-blue-600 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s})]},t)):e.jsx("p",{className:"text-sm text-gray-500",children:"No classes assigned yet"})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"My Subjects (Courses)"}),e.jsx("div",{className:"space-y-2",children:n?.assigned_subjects?.length>0?n.assigned_subjects.map((s,t)=>e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[e.jsx(b,{className:"h-5 w-5 text-green-600 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s})]},t)):e.jsx("p",{className:"text-sm text-gray-500",children:"No subjects assigned yet"})})]})]})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(y,{className:"h-5 w-5 text-orange-600"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm text-gray-600",children:"Current GPA vs Target"})})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-red-500 text-sm flex items-center",children:"↓ 5.2%"})})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n?.progress.overall_gpa.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-500",children:"4.0 target (95%)"})]}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"h-5 w-5 text-green-600"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm text-gray-600",children:"Pending Assignments"})})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-green-500 text-sm flex items-center",children:"↑ 15.0%"})})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n?.assignments?.length||0}),e.jsxs("div",{className:"text-sm text-gray-500",children:[(n?.assignments||[]).filter(e=>new Date(e.due_date)<=new Date(Date.now()+6048e5)).length||0," due this week"]})]}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(b,{className:"h-5 w-5 text-blue-600"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm text-gray-600",children:"Study Hours This Week"})})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-green-500 text-sm flex items-center",children:"↑ 12.5%"})})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[n?.collaboration?.study_group_hours||0,"h"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"30h weekly goal"})]}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(_,{className:"h-5 w-5 text-purple-600"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm text-gray-600",children:"AI Tutor Sessions"})})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-green-500 text-sm flex items-center",children:"↑ 8.5%"})})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[n?.independence?.ai_usage_appropriateness||0,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"AI usage appropriateness"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Academic Performance Health"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Updated 10:30 AM"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:n?.progress?.overall_gpa?n.progress.overall_gpa>=3.7?"A-":n.progress.overall_gpa>=3.3?"B+":n.progress.overall_gpa>=3?"B":n.progress.overall_gpa>=2.7?"B-":"C+":"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Grade"}),e.jsxs("div",{className:"text-xs text-green-600",children:["GPA: ",n?.progress?.overall_gpa?.toFixed(2)||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(n?.progress?.subjects||[]).filter(e=>e.understanding<75).length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Subjects Need Focus"}),e.jsx("div",{className:"text-xs text-orange-600",children:(n?.progress?.subjects||[]).filter(e=>e.understanding<75).map(e=>e.name).join(", ")||"None"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[n?.attendance?.rate||0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Attendance Rate"}),e.jsx("div",{className:"text-xs text-blue-600",children:(n?.attendance?.rate||0)>=90?"Excellent performance":(n?.attendance?.rate||0)>=75?"Good performance":"Needs improvement"})]})]})})]}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Learning Activity Chain"})]}),e.jsxs("div",{className:"flex items-center text-yellow-600",children:[e.jsx(S,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm",children:"Monitor"})]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[n?.assignments?.slice(0,3).map((s,t)=>{const a=new Date(s.due_date)<new Date,r={completed:{bg:"bg-green-50 border-green-200",icon:C,iconColor:"text-green-600",textColor:"text-green-900",subtextColor:"text-green-700",statusColor:"text-green-700"},in_progress:{bg:"bg-blue-50 border-blue-200",icon:w,iconColor:"text-blue-600",textColor:"text-blue-900",subtextColor:"text-blue-700",statusColor:"text-blue-700"},pending:{bg:a?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200",icon:a?S:w,iconColor:a?"text-red-600":"text-gray-600",textColor:a?"text-red-900":"text-gray-900",subtextColor:a?"text-red-700":"text-gray-700",statusColor:a?"text-red-700":"text-gray-700"}},l=r[s.status]||r.pending,i=l.icon;return e.jsxs("div",{className:`flex items-center justify-between p-3 ${l.bg} border rounded-lg`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(i,{className:`h-5 w-5 ${l.iconColor} mr-3`}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${l.textColor}`,children:s.title}),e.jsxs("div",{className:`text-sm ${l.subtextColor}`,children:[s.subject," • ",s.description]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`${l.statusColor} font-medium`,children:a&&"pending"===s.status?"OVERDUE":s.status.toUpperCase()}),e.jsxs("div",{className:`text-sm ${l.statusColor}`,children:["Due: ",new Date(s.due_date).toLocaleDateString()]})]})]},s.id)}),(!n?.assignments||0===n.assignments.length)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(N,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"No assignments found"})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"h-5 w-5 text-orange-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Study Issues"})]}),e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All →"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Mathematics quiz grade below target"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Trigonometry • 17/09/2025"})]})]}),e.jsx("div",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-medium",children:"high"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Missing lab report submission"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Chemistry • 16/09/2025"})]})]}),e.jsx("div",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded text-xs font-medium",children:"medium"})]})]})})]}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Study Status"})]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Excellent"})]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:n?.progress?.subjects?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Courses"}),e.jsxs("div",{className:"text-xs text-green-600",children:[(n?.progress?.subjects||[]).filter(e=>e.understanding>=75).length||0," on track"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:n?.exams?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recent Exams"}),e.jsxs("div",{className:"text-xs text-orange-600",children:["Avg: ",n?.exams?.length?Math.round(n.exams.reduce((e,s)=>e+s.percentage,0)/n.exams.length):0,"%"]})]})]})})]})]})]})]}),l&&e.jsx(A.div,{initial:{opacity:0,x:400},animate:{opacity:1,x:0},exit:{opacity:0,x:400},className:"fixed right-0 top-0 bottom-0 w-96 bg-white border-l border-gray-200 shadow-xl z-50 overflow-hidden",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-blue-600 text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"AI Learning Assistant"}),e.jsx("button",{onClick:()=>i(!1),className:"text-blue-200 hover:text-white",children:"✕"})]})}),e.jsx("div",{className:"flex-1 p-4",children:e.jsx("div",{className:"h-full bg-gray-50 rounded-lg p-4 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(_,{className:"h-12 w-12 mx-auto mb-4 text-blue-500"}),e.jsx("p",{children:"AI Tutor chat will be integrated here"})]})})})]})})]})},W=()=>{const{user:t}=d(),{data:a,isLoading:r,error:l,refetch:i}=s({queryKey:["student-courses",t?.id],queryFn:async()=>(await k.get("/courses")).data,refetchInterval:3e5});return r?e.jsx(G,{children:e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading courses..."})]})}):l?e.jsx(G,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(b,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to load courses"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to fetch course data."}),e.jsx("button",{onClick:()=>i(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry"})]})})}):e.jsx(G,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Courses"}),e.jsx("p",{className:"text-gray-600",children:"Manage your enrolled courses and track progress"})]}),e.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(),className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(b,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Courses"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(y,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a?.filter(e=>"active"===e.status).length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Courses"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(u,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[a?.length?Math.round(a.reduce((e,s)=>e+s.progress,0)/a.length):0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Progress"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a?.reduce((e,s)=>e+s.credits,0)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Credits"})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?.map((s,t)=>e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.code})]}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("active"===s.status?"bg-green-100 text-green-800":"completed"===s.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:s.status})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),s.instructor]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),s.schedule]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),s.credits," Credits"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s.progress}%`}})})]}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Grade"}),e.jsx("span",{className:"text-lg font-bold "+(s.grade.startsWith("A")?"text-green-600":s.grade.startsWith("B")?"text-blue-600":s.grade.startsWith("C")?"text-orange-600":"text-red-600"),children:s.grade})]}),s.nextClass&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Next Class"}),e.jsx("div",{className:"text-sm text-blue-700",children:s.nextClass})]})]})},s.id))}),(!a||0===a.length)&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Courses Found"}),e.jsx("p",{className:"text-gray-600",children:"You are not enrolled in any courses yet."})]})]})})},q=()=>{const{user:a}=d(),[r,l]=t.useState("all"),{data:i,isLoading:n,error:c,refetch:x}=s({queryKey:["student-assignments",a?.id],queryFn:async()=>(await k.get("/assignments")).data,refetchInterval:3e5}),m=i?.filter(e=>"all"===r||e.status===r)||[];return n?e.jsx(G,{children:e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading assignments..."})]})}):c?e.jsx(G,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to load assignments"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to fetch assignment data."}),e.jsx("button",{onClick:()=>x(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry"})]})})}):e.jsx(G,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Assignments"}),e.jsx("p",{className:"text-gray-600",children:"Track and manage your course assignments"})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(),className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Assignments"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i?.filter(e=>"pending"===e.status).length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(C,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i?.filter(e=>"submitted"===e.status||"graded"===e.status).length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(S,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i?.filter(e=>new Date(e.due_date)<new Date&&"pending"===e.status).length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overdue"})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"all",label:"All Assignments"},{key:"pending",label:"Pending"},{key:"submitted",label:"Submitted"},{key:"graded",label:"Graded"}].map(s=>e.jsxs("button",{onClick:()=>l(s.key),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors "+(r===s.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[s.label,e.jsx("span",{className:"ml-2 px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-600",children:"all"===s.key?i?.length||0:i?.filter(e=>e.status===s.key).length||0})]},s.key))})})}),e.jsx("div",{className:"space-y-4",children:m.map((s,t)=>{const a=(e=>{if(new Date(e.due_date)<new Date&&"pending"===e.status)return{bg:"bg-red-50 border-red-200",icon:S,iconColor:"text-red-600",statusText:"OVERDUE",statusColor:"text-red-700 bg-red-100"};const s={pending:{bg:"bg-yellow-50 border-yellow-200",icon:w,iconColor:"text-yellow-600",statusText:"PENDING",statusColor:"text-yellow-700 bg-yellow-100"},in_progress:{bg:"bg-blue-50 border-blue-200",icon:N,iconColor:"text-blue-600",statusText:"IN PROGRESS",statusColor:"text-blue-700 bg-blue-100"},submitted:{bg:"bg-green-50 border-green-200",icon:C,iconColor:"text-green-600",statusText:"SUBMITTED",statusColor:"text-green-700 bg-green-100"},graded:{bg:"bg-purple-50 border-purple-200",icon:C,iconColor:"text-purple-600",statusText:"GRADED",statusColor:"text-purple-700 bg-purple-100"}};return s[e.status]||s.pending})(s),r=a.icon,l=Math.ceil((new Date(s.due_date).getTime()-(new Date).getTime())/864e5);return e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:`${a.bg} border rounded-lg p-6 hover:shadow-md transition-shadow`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${a.bg}`,children:e.jsx(r,{className:`h-5 w-5 ${a.iconColor}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${a.statusColor}`,children:a.statusText})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Subject:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:s.subject})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Due Date:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:new Date(s.due_date).toLocaleDateString()})]}),l>0&&"pending"===s.status&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Time Left:"}),e.jsxs("span",{className:"ml-2 font-medium "+(l<=1?"text-red-600":l<=3?"text-orange-600":"text-gray-900"),children:[l," day",1!==l?"s":""]})]}),"graded"===s.status&&void 0!==s.score&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Score:"}),e.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:[s.score,"/",s.max_score," (",s.grade,")"]})]})]}),s.feedback&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"Feedback:"}),e.jsx("div",{className:"text-sm text-gray-700",children:s.feedback})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:["pending"===s.status&&e.jsxs("button",{className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm transition-colors",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Submit"]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Details"})]})]})},s.id)})}),0===m.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"all"===r?"No Assignments Found":`No ${r} Assignments`}),e.jsx("p",{className:"text-gray-600",children:"all"===r?"You have no assignments at the moment.":`You have no ${r} assignments.`})]})]})})},z=()=>{const{user:a}=d(),[r,l]=t.useState("current"),{data:i,isLoading:n,error:c,refetch:x}=s({queryKey:["student-grades",a?.id,r],queryFn:async()=>(await k.get(`/grades?semester=${r}`)).data,refetchInterval:3e5}),m=i?.grades||[],o=i?.subjects||[],h=i?.gpa||0,g=i?.class_rank||0,j=i?.total_students||0,b=e=>e.startsWith("A")?"text-green-600 bg-green-100":e.startsWith("B")?"text-blue-600 bg-blue-100":e.startsWith("C")?"text-yellow-600 bg-yellow-100":e.startsWith("D")?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100",N=e=>{switch(e){case"final":return"🎓";case"midterm":return"📝";case"quiz":return"❓";case"assignment":return"📋";case"project":return"💼";default:return"📊"}};return n?e.jsx(G,{children:e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading grades..."})]})}):c?e.jsx(G,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to load grades"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to fetch grade data."}),e.jsx("button",{onClick:()=>x(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry"})]})})}):e.jsx(G,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Performance"}),e.jsx("p",{className:"text-gray-600",children:"Track your grades and academic progress"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{value:r,onChange:e=>l(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"current",children:"Current Semester"}),e.jsx("option",{value:"2024-spring",children:"Spring 2024"}),e.jsx("option",{value:"2023-fall",children:"Fall 2023"}),e.jsx("option",{value:"2023-spring",children:"Spring 2023"})]}),e.jsxs(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(),className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(y,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:h.toFixed(2)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Current GPA"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Out of 4.0"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(L,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["#",g]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Class Rank"}),e.jsxs("div",{className:"text-xs text-green-600",children:["out of ",j]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(u,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Subjects"}),e.jsx("div",{className:"text-xs text-purple-600",children:"This semester"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(p,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:m.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Assessments"}),e.jsx("div",{className:"text-xs text-orange-600",children:"Total recorded"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-8",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Subject Performance"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your performance across all subjects"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid gap-4",children:o.map((s,t)=>e.jsxs(A.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-bold text-lg",children:s.subject.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.subject}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.credits," credits • ",s.total_assessments," assessments"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[s.average.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average"})]}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${b(s.grade)}`,children:s.grade})}),e.jsxs("div",{className:"flex items-center",children:["up"===s.trend&&e.jsx(I,{className:"h-5 w-5 text-green-500"}),"down"===s.trend&&e.jsx(E,{className:"h-5 w-5 text-red-500"}),"stable"===s.trend&&e.jsx("div",{className:"w-5 h-0.5 bg-gray-400"})]})]})]},s.subject))})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Grades"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your latest assessment results"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assessment"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.slice(0,10).map((s,t)=>e.jsxs(A.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-lg mr-2",children:N(s.type)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.exam}),e.jsx("div",{className:"text-sm text-gray-500 capitalize",children:s.type})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.subject})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[s.score,"/",s.max_score]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.percentage.toFixed(1),"%"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(s.grade)}`,children:s.grade})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.date).toLocaleDateString()})]},s.id))})]})}),0===m.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(y,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Grades Available"}),e.jsx("p",{className:"text-gray-600",children:"No grades have been recorded for this semester yet."})]})]})]})})},B=()=>e.jsxs(l,{children:[e.jsx(i,{index:!0,element:e.jsx(U,{})}),e.jsx(i,{path:"dashboard",element:e.jsx(U,{})}),e.jsx(i,{path:"courses",element:e.jsx(W,{})}),e.jsx(i,{path:"assignments",element:e.jsx(q,{})}),e.jsx(i,{path:"grades",element:e.jsx(z,{})}),e.jsx(i,{path:"*",element:e.jsx(n,{to:"/student",replace:!0})})]});export{B as default};
